<form [formGroup]="form">

  <br>
  <div class="bd-main container-fluid">
    <table class="col-md-12">
      <tbody>
        <ng-container formArrayName="shipments">
          <ng-container *ngFor="
          let control of shipments.controls;
          let i = index
        ">

            <tr [formGroupName]="i" class="row shipments">
              <td>
                <h4>Embarque - {{ getShipmentXidByIndex(i) }}</h4>
                <shipment-header-accordion formControlName="shipmentHeader" />
                <shipment-header2-accordion formControlName="shipmentHeader2" />
                <shipment-stop-accordion formControlName="shipmentStop" />
                <location-accordion formControlName="location" />
                <release-accordion formControlName="release" />
                <hr>
              </td>
            </tr>
          </ng-container>
        </ng-container>
      </tbody>
    </table>
  </div>
</form>